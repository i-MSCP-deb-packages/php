From 0218acb7e756a469099c4ccfb22bce6c2bd1ef87 Mon Sep 17 00:00:00 2001
From: Stanislav Malyshev <stas@php.net>
Date: Tue, 12 Jul 2016 21:48:00 -0700
Subject: [PATCH] Fix for bug #72513

---
 TSRM/tsrm_virtual_cwd.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/TSRM/tsrm_virtual_cwd.c
+++ b/TSRM/tsrm_virtual_cwd.c
@@ -1173,7 +1173,7 @@ CWD_API int virtual_file_ex(cwd_state *s
 	void *tmp;
 	TSRMLS_FETCH();
 
-	if (path_length == 0 || path_length >= MAXPATHLEN-1) {
+	if (path_length <= 0 || path_length >= MAXPATHLEN-1) {
 #ifdef TSRM_WIN32
 # if _MSC_VER < 1300
 		errno = EINVAL;
